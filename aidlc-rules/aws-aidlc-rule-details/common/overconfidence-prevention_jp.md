# 過信防止ガイド

## 問題の定義

AI-DLCは、複雑なプロジェクトの意図ステートメントに対しても、十分な明確化の質問をせずに過信を示していました。これにより、適切な要件収集の代わりに推測がなされていました。

## 根本原因分析

過信の問題は、複数のステージで質問をスキップすることを奨励する指示によって引き起こされていました：

1. **機能設計**：「該当しない場合はカテゴリ全体をスキップ」
2. **ユーザーストーリー**：「カテゴリは必須のチェックリストではなく、インスピレーションとして使用」
3. **要件分析**：最小限の質問を奨励する同様のパターン
4. **NFR要件**：徹底的な分析を妨げる「のみの場合」条件

これらの指示は、AIに包括的な要件収集を奨励するのではなく、質問を避けるように指示していました。

## 実装された解決策

### 更新された質問生成の哲学

**旧アプローチ**：「絶対に必要な場合のみ質問する」
**新アプローチ**：「疑わしい場合は質問する - 過信は悪い結果につながる」

### 主な変更点

#### 1. 要件分析ステージ
- 「必要な場合のみ」から「例外的に明確でない限り常に質問を作成」に変更
- 包括的な評価領域を追加（機能的、非機能的、ビジネスコンテキスト、技術的コンテキスト）
- 積極的な質問アプローチを強調

#### 2. ユーザーストーリーステージ
- 「カテゴリ全体をスキップ」の指示を削除
- 評価するための包括的な質問カテゴリを追加
- 回答分析の要件を強化
- フォローアップ質問の義務を強化

#### 3. 機能設計ステージ
- 「のみの場合」条件を包括的な評価に置き換え
- より多くの質問カテゴリを追加（データフロー、統合ポイント、エラー処理）
- 曖昧さの検出と解決の要件を強化

#### 4. NFR要件ステージ
- 基本的なNFRを超えた質問カテゴリを拡大
- 信頼性、保守性、ユーザビリティの考慮事項を追加
- 技術的な曖昧さのための回答分析を強化

### 新しい指針

1. **質問することをデフォルトに**：曖昧さがある場合は明確化の質問をする
2. **包括的なカバレッジ**：すべての関連カテゴリを評価し、領域をスキップしない
3. **徹底的な分析**：すべてのユーザー応答を曖昧さについて慎重に分析
4. **必須のフォローアップ**：不明確な応答に対してフォローアップ質問を作成
5. **曖昧さを持って進行しない**：すべての曖昧さが解決されるまで前進しない

## 実装ガイドライン

### 質問生成のため
- すべての質問カテゴリを評価し、いずれもスキップしない
- 明確化が品質を向上させる場所で質問をする
- 各ステージに包括的な質問カテゴリを含める
- 質問の除外ではなく包含をデフォルトに

### 回答分析のため
- 曖昧な応答を探す：「依存する」、「多分」、「確信がない」、「混合」、「中間」
- 未定義の用語と外部概念への参照を検出
- 矛盾または不完全な回答を特定
- あらゆる曖昧さに対してフォローアップ質問を作成

### フォローアップ質問のため
- 曖昧さが検出されたときは別の明確化ファイルを作成
- 各曖昧さを解決するための具体的な質問をする
- すべての不明確な応答が明確化されるまで進行しない
- 徹底的に - 過少明確化よりも過剰明確化の方が良い

## 品質保証

### 注意すべき危険信号
- 複雑なプロジェクトで質問なしでステージが完了
- 曖昧または曖昧なユーザー応答で進行
- 正当な理由なしに質問カテゴリ全体をスキップ
- 明確化を求める代わりに推測を行う

### 成功指標
- プロジェクトの複雑さに適した明確化の質問の適切な数
- 必要に応じてフォローアップを含むユーザー応答の徹底的な分析
- 実装に進む前の明確で曖昧さのない要件
- より良い事前の明確化により、後のステージでの変更の必要性が減少

## メンテナンス

このガイドは以下の場合に参照する必要があります：
- AI-DLCに新しいステージを追加する場合
- 既存のステージの指示を更新する場合
- 過信の問題についてAI-DLCのパフォーマンスを確認する場合
- AI-DLCの質問生成原則についてチームメンバーをトレーニングする場合

## 重要なポイント

**質問をし過ぎることは、不正確な推測を行うことよりも良いです。** 事前に明確化の質問をするコストは、推測に基づいて誤った解決策を実装するコストよりもはるかに低いです。
