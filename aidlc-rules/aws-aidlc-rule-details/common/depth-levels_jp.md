# 適応的な深度

**目的**：AI-DLCが問題の複雑さに合わせて詳細レベルをどのように適応させるかを説明

## 核心原則

**ステージが実行されると、定義されたすべての成果物が作成されます。「深度」とは、それらの成果物内の詳細レベルと厳密さを指し、問題の複雑さに適応します。**

## ステージ選択と詳細レベル

### ステージ選択（バイナリ）
- **ワークフロー計画**が決定：各ステージに対してEXECUTEまたはSKIP
- **EXECUTEの場合**：ステージが実行され、定義されたすべての成果物が作成される
- **SKIPの場合**：ステージは全く実行されない

### 詳細レベル（適応的）
- **シンプルな問題**：本質的な詳細を含む簡潔な成果物
- **複雑な問題**：広範な詳細を含む包括的な成果物
- **モデルが決定**：規範的なルールではなく、問題の特性に基づく

## 詳細レベルに影響する要因

モデルは適切な詳細を決定する際に、これらの要因を考慮します：

1. **要求の明確さ**：ユーザーの要求はどの程度明確で完全か？
2. **問題の複雑さ**：ソリューション空間はどの程度複雑か？
3. **スコープ**：単一ファイル、コンポーネント、複数コンポーネント、またはシステム全体？
4. **リスクレベル**：エラーや省略の影響は何か？
5. **利用可能なコンテキスト**：グリーンフィールドかブラウンフィールドか、既存のドキュメント
6. **ユーザーの好み**：ユーザーは簡潔さまたは詳細の好みを表明しているか？

## 例：要件分析の成果物

**すべてのシナリオで同じ成果物が作成されます**：
- `requirement-verification-questions.md`（必要な場合）
- `requirements.md`

**注意**：ユーザーの初期要求は`audit.md`に記録されます（別のuser-intent.mdは不要）

**詳細レベルは複雑さによって変化します**：

### シンプルなシナリオ（バグ修正）
- **requirement-verification-questions.md**：必要な明確化の質問
- **requirements.md**：簡潔な機能要件、最小限のセクション

### 複雑なシナリオ（システム移行）
- **requirement-verification-questions.md**：複数ラウンド、10以上の質問
- **requirements.md**：包括的な機能要件+非機能要件、トレーサビリティ、受け入れ基準

## 例：アプリケーション設計の成果物

**すべてのシナリオで同じ成果物が作成されます**：
- `application-design.md`
- `component-diagram.md`

**詳細レベルは複雑さによって変化します**：

### シンプルなシナリオ（単一コンポーネント）
- **application-design.md**：基本的なコンポーネントの説明、主要なメソッド
- **component-diagram.md**：本質的な関係を持つシンプルな図

### 複雑なシナリオ（複数コンポーネントシステム）
- **application-design.md**：詳細なコンポーネントの責任、署名を持つすべてのメソッド、設計パターン、検討された代替案
- **component-diagram.md**：すべての関係、データフロー、統合ポイントを持つ包括的な図

## モデルのための指針

**「手元の問題に必要な詳細を正確に作成する - それ以上でもそれ以下でもない。」**

- シンプルな問題を不必要な詳細で人為的に膨らませない
- 重要な詳細を省略して複雑な問題を過小評価しない
- 問題の特性が自然に詳細レベルを駆動するようにする
- ステージが実行されるときは、必要なすべての成果物が常に作成される
